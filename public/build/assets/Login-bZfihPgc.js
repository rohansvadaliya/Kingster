import{d as y,i as _,j as v,v as x,o as d,g as h,T as V,c,w as i,a as r,h as p,b as l,u as o,Z as B,t as C,e as $,k as P,f,n as N}from"./app-D8i8H99E.js";import{_ as R}from"./GuestLayout.vue_vue_type_script_setup_true_lang-LJry-aQ3.js";import{_ as g,a as k,b}from"./TextInput.vue_vue_type_script_setup_true_lang-CcXFxDhW.js";import{P as U}from"./PrimaryButton-8_wsyAHo.js";import"./ApplicationLogo-C8Zdrv6n.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q=["value"],E=y({__name:"Checkbox",props:{checked:{type:Boolean},value:{}},emits:["update:checked"],setup(m,{emit:e}){const n=e,a=m,s=_({get(){return a.checked},set(t){n("update:checked",t)}});return(t,u)=>v((d(),h("input",{type:"checkbox",value:t.value,"onUpdate:modelValue":u[0]||(u[0]=w=>s.value=w),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:focus:ring-indigo-600 dark:focus:ring-offset-gray-800"},null,8,q)),[[x,s.value]])}}),L={key:0,class:"mb-4 text-sm font-medium text-green-600"},j={class:"mt-4"},D={class:"mt-4 block"},M={class:"flex items-center"},S={class:"mt-4 flex items-center justify-end"},H=y({__name:"Login",props:{canResetPassword:{type:Boolean},status:{}},setup(m){const e=V({email:"",password:"",remember:!1}),n=()=>{axios.post(route("login"),e.data()).then(a=>{console.log("Response: ",a.data),a.data.role=="admin"?(e.reset(),location.href=route("admin.dashboard")):(e.reset(),location.href=route("dashboard"))}).catch(a=>{console.error("Error: ",a)})};return(a,s)=>(d(),c(R,null,{default:i(()=>[r(o(B),{title:"Log in"}),a.status?(d(),h("div",L,C(a.status),1)):p("",!0),l("form",{onSubmit:$(n,["prevent"])},[l("div",null,[r(g,{for:"email",value:"Email"}),r(k,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:o(e).email,"onUpdate:modelValue":s[0]||(s[0]=t=>o(e).email=t),required:"",autofocus:"",autocomplete:"username"},null,8,["modelValue"]),r(b,{class:"mt-2",message:o(e).errors.email},null,8,["message"])]),l("div",j,[r(g,{for:"password",value:"Password"}),r(k,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:o(e).password,"onUpdate:modelValue":s[1]||(s[1]=t=>o(e).password=t),required:"",autocomplete:"current-password"},null,8,["modelValue"]),r(b,{class:"mt-2",message:o(e).errors.password},null,8,["message"])]),l("div",D,[l("label",M,[r(E,{name:"remember",checked:o(e).remember,"onUpdate:checked":s[2]||(s[2]=t=>o(e).remember=t)},null,8,["checked"]),s[3]||(s[3]=l("span",{class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},"Remember me",-1))])]),l("div",S,[a.canResetPassword?(d(),c(o(P),{key:0,href:a.route("password.request"),class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:text-gray-400 dark:hover:text-gray-100 dark:focus:ring-offset-gray-800"},{default:i(()=>s[4]||(s[4]=[f(" Forgot your password? ")])),_:1},8,["href"])):p("",!0),r(U,{class:N(["ms-4",{"opacity-25":o(e).processing}]),disabled:o(e).processing},{default:i(()=>s[5]||(s[5]=[f(" Log in ")])),_:1},8,["class","disabled"])])],32)]),_:1}))}});export{H as default};
